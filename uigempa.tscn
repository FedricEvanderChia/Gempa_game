[gd_scene load_steps=22 format=3 uid="uid://dtsrtigd5cgnv"]

[ext_resource type="Script" path="res://UIGempa.gd" id="1_ngrhg"]
[ext_resource type="Script" path="res://gui_button_collision.gd" id="2_1oy5p"]
[ext_resource type="Texture2D" uid="uid://xp2gt0h7ism3" path="res://asset/New Piskel-1.png.png" id="2_bp1ya"]
[ext_resource type="PackedScene" uid="uid://cvbweyjmj4s5a" path="res://Inventory/inventory_ui.tscn" id="3_lx3uu"]
[ext_resource type="Texture2D" uid="uid://db80lf0ng5euy" path="res://asset/Bag_Sheet.png" id="4_mm5uw"]
[ext_resource type="PackedScene" path="res://player/rizki.tscn" id="5_idtk8"]
[ext_resource type="PackedScene" path="res://player/maria.tscn" id="6_goltb"]
[ext_resource type="PackedScene" path="res://player/mob.tscn" id="7_24ixx"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yypih"]
size = Vector2(150, 150)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_piwp7"]
size = Vector2(150, 150)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u2tgb"]
size = Vector2(261.984, 99.6079)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7wcg0"]
size = Vector2(120, 136)

[sub_resource type="AtlasTexture" id="AtlasTexture_587v0"]
atlas = ExtResource("4_mm5uw")
region = Rect2(450, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_8opt2"]
atlas = ExtResource("4_mm5uw")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtj71"]
atlas = ExtResource("4_mm5uw")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_j4333"]
atlas = ExtResource("4_mm5uw")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_8r1oq"]
atlas = ExtResource("4_mm5uw")
region = Rect2(0, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_270h2"]
atlas = ExtResource("4_mm5uw")
region = Rect2(150, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_vls2c"]
atlas = ExtResource("4_mm5uw")
region = Rect2(300, 0, 150, 150)

[sub_resource type="AtlasTexture" id="AtlasTexture_japrh"]
atlas = ExtResource("4_mm5uw")
region = Rect2(450, 0, 150, 150)

[sub_resource type="SpriteFrames" id="SpriteFrames_v2pkr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_587v0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8opt2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtj71")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j4333")
}],
"loop": false,
"name": &"Close",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8r1oq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_270h2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vls2c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_japrh")
}],
"loop": false,
"name": &"Open",
"speed": 10.0
}]

[node name="GUI" type="CanvasLayer"]
script = ExtResource("1_ngrhg")

[node name="Control2" type="Control" parent="."]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
grow_vertical = 0
scale = Vector2(0.927536, 1.00943)

[node name="Area2D" type="Area2D" parent="Control2"]
script = ExtResource("2_1oy5p")

[node name="tc_button_right" type="TouchScreenButton" parent="Control2/Area2D"]
position = Vector2(178.187, -123.501)
scale = Vector2(0.632964, 0.632964)
texture_normal = ExtResource("2_bp1ya")
shape = SubResource("RectangleShape2D_yypih")
action = "ui_right"

[node name="tc_button_left" type="TouchScreenButton" parent="Control2/Area2D"]
position = Vector2(133.984, -25.4263)
rotation = 3.14159
scale = Vector2(0.634877, 0.634877)
texture_normal = ExtResource("2_bp1ya")
shape = SubResource("RectangleShape2D_piwp7")
action = "ui_left"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Control2/Area2D"]
position = Vector2(157.945, -75.561)
shape = SubResource("RectangleShape2D_u2tgb")

[node name="inventory_ui" parent="." instance=ExtResource("3_lx3uu")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -243.5
offset_top = -171.5
offset_right = 243.5
offset_bottom = 171.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="inventory_ui"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -135.0
offset_top = -11.5
offset_right = 181.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 0
text = "Tips: tap the bag again to close inventory"

[node name="Bag" type="Area2D" parent="."]
position = Vector2(1082, 76)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bag"]
shape = SubResource("RectangleShape2D_7wcg0")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Bag"]
sprite_frames = SubResource("SpriteFrames_v2pkr")
animation = &"Open"

[node name="Mob" parent="." instance=ExtResource("7_24ixx")]
visible = false
position = Vector2(798, 396)

[node name="rizki" parent="." instance=ExtResource("5_idtk8")]
visible = false
position = Vector2(200, 375)

[node name="Maria" parent="." instance=ExtResource("6_goltb")]
visible = false
position = Vector2(975, 375)

[connection signal="body_entered" from="Control2/Area2D" to="Control2/Area2D" method="_on_body_entered"]
[connection signal="body_exited" from="Control2/Area2D" to="Control2/Area2D" method="_on_body_exited"]
[connection signal="input_event" from="Bag" to="." method="_on_bag_input_event"]
